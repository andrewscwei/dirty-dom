(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();function re(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var U={exports:{}},Y,J;function oe(){if(J)return Y;J=1;var r=1e3,e=r*60,t=e*60,i=t*24,n=i*7,o=i*365.25;Y=function(d,a){a=a||{};var f=typeof d;if(f==="string"&&d.length>0)return s(d);if(f==="number"&&isFinite(d))return a.long?g(d):c(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(a){var f=parseFloat(a[1]),p=(a[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return f*o;case"weeks":case"week":case"w":return f*n;case"days":case"day":case"d":return f*i;case"hours":case"hour":case"hrs":case"hr":case"h":return f*t;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function c(d){var a=Math.abs(d);return a>=i?Math.round(d/i)+"d":a>=t?Math.round(d/t)+"h":a>=e?Math.round(d/e)+"m":a>=r?Math.round(d/r)+"s":d+"ms"}function g(d){var a=Math.abs(d);return a>=i?l(d,a,i,"day"):a>=t?l(d,a,t,"hour"):a>=e?l(d,a,e,"minute"):a>=r?l(d,a,r,"second"):d+" ms"}function l(d,a,f,p){var v=a>=f*1.5;return Math.round(d/f)+" "+p+(v?"s":"")}return Y}var G,$;function se(){if($)return G;$=1;function r(e){i.debug=i,i.default=i,i.coerce=l,i.disable=c,i.enable=o,i.enabled=g,i.humanize=oe(),i.destroy=d,Object.keys(e).forEach(a=>{i[a]=e[a]}),i.names=[],i.skips=[],i.formatters={};function t(a){let f=0;for(let p=0;p<a.length;p++)f=(f<<5)-f+a.charCodeAt(p),f|=0;return i.colors[Math.abs(f)%i.colors.length]}i.selectColor=t;function i(a){let f,p=null,v,b;function C(...O){if(!C.enabled)return;const S=C,H=Number(new Date),te=H-(f||H);S.diff=te,S.prev=f,S.curr=H,f=H,O[0]=i.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");let k=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(W,ie)=>{if(W==="%%")return"%";k++;const X=i.formatters[ie];if(typeof X=="function"){const ne=O[k];W=X.call(S,ne),O.splice(k,1),k--}return W}),i.formatArgs.call(S,O),(S.log||i.log).apply(S,O)}return C.namespace=a,C.useColors=i.useColors(),C.color=i.selectColor(a),C.extend=n,C.destroy=i.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(v!==i.namespaces&&(v=i.namespaces,b=i.enabled(a)),b),set:O=>{p=O}}),typeof i.init=="function"&&i.init(C),C}function n(a,f){const p=i(this.namespace+(typeof f>"u"?":":f)+a);return p.log=this.log,p}function o(a){i.save(a),i.namespaces=a,i.names=[],i.skips=[];const f=(typeof a=="string"?a:"").trim().replace(" ",",").split(",").filter(Boolean);for(const p of f)p[0]==="-"?i.skips.push(p.slice(1)):i.names.push(p)}function s(a,f){let p=0,v=0,b=-1,C=0;for(;p<a.length;)if(v<f.length&&(f[v]===a[p]||f[v]==="*"))f[v]==="*"?(b=v,C=p,v++):(p++,v++);else if(b!==-1)v=b+1,C++,p=C;else return!1;for(;v<f.length&&f[v]==="*";)v++;return v===f.length}function c(){const a=[...i.names,...i.skips.map(f=>"-"+f)].join(",");return i.enable(""),a}function g(a){for(const f of i.skips)if(s(a,f))return!1;for(const f of i.names)if(s(a,f))return!0;return!1}function l(a){return a instanceof Error?a.stack||a.message:a}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}return G=r,G}var _;function he(){return _||(_=1,function(r,e){var t={};e.formatArgs=n,e.save=o,e.load=s,e.useColors=i,e.storage=c(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;l.splice(1,0,d,"color: inherit");let a=0,f=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(a++,p==="%c"&&(f=a))}),l.splice(f,0,d)}e.log=console.debug||console.log||(()=>{});function o(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function s(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=t.DEBUG),l}function c(){try{return localStorage}catch{}}r.exports=se()(e);const{formatters:g}=r.exports;g.j=function(l){try{return JSON.stringify(l)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}}(U,U.exports)),U.exports}var ae=he();const le=re(ae);class m{x;y;constructor(e=0,t=0){if(typeof e=="number"){const i=e;this.x=i,this.y=t}else{if(!m.isValid(e))throw new Error("Invalid parameters passed to constructor");e instanceof Array?(this.x=e[0],this.y=e[1]):(this.x=e.x,this.y=e.y)}}static isValid(e){return e instanceof Array?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):typeof e=="object"?!(typeof e.x!="number"||typeof e.y!="number"):!1}static make(e=0,t=0){return typeof e=="number"?new m(e,t):new m(e)}clone(e={}){return new m({x:typeof e.x=="number"?e.x:this.x,y:typeof e.y=="number"?e.y:this.y})}add(e){return new m({x:this.x+e.x,y:this.y+e.y})}subtract(e){return new m({x:this.x-e.x,y:this.y-e.y})}multiply(e){return new m({x:this.x*e.x,y:this.y*e.y})}divideBy(e){return new m({x:this.x/e.x,y:this.y/e.y})}invert(){return new m({x:this.y,y:this.x})}equals(e){return!(this.x!==e.x||this.y!==e.y)}toJSON(){return Object.freeze({x:this.x,y:this.y})}toArray(){return[this.x,this.y]}}function ce(r,e){try{const t=m.isValid(r)&&new m(r),i=m.isValid(e)&&new m(e);if(t&&!i){const n=e instanceof Array?e:[e],o=n.length;for(let s=0;s<o;s++){const c=w.from(n[s]);if(!c)continue;const g=t.x>=c.left&&t.x<=c.right,l=t.y>=c.top&&t.y<=c.bottom;if(g&&l)return!0}return!1}else if(!t&&i){const n=r instanceof Array?r:[r],o=n.length;for(let s=0;s<o;s++){const c=w.from(n[s]);if(!c)continue;const g=i.x>=c.left&&i.x<=c.right,l=i.y>=c.top&&i.y<=c.bottom;if(g&&l)return!0}return!1}else{if(t&&i)return t.equals(i);{const n=[...r instanceof Array?r:[r],...e instanceof Array?e:[e]],o=w.intersecting.apply(null,n);return o?o.width*o.height!==0:!1}}}catch(t){return console.error(t),!1}}class E{width;height;constructor(e=0,t=0){if(typeof e=="number"){const i=e;this.width=i,this.height=t}else{if(!E.isValid(e))throw new Error("Invalid parameters passed to constructor");e instanceof Array?(this.width=e[0],this.height=e[1]):(this.width=e.width,this.height=e.height)}}static isValid(e){return e instanceof Array?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):typeof e=="object"?!(typeof e.width!="number"||typeof e.height!="number"):!1}static make(e=0,t=0){return typeof e=="number"?new E(e,t):new E(e)}clone(e={}){return new E({width:typeof e.width=="number"?e.width:this.width,height:typeof e.height=="number"?e.height:this.height})}add(e){return new E({width:this.width+e.width,height:this.height+e.height})}subtract(e){return new E({width:this.width-e.width,height:this.height-e.height})}multiply(e){return new E({width:this.width*e.width,height:this.height*e.height})}divideBy(e){return new E({width:this.width/e.width,height:this.height/e.height})}invert(){return new E({width:this.height,height:this.width})}equals(e){return!(this.width!==e.width||this.height!==e.height)}toJSON(){return Object.freeze({width:this.width,height:this.height})}toArray(){return[this.width,this.height]}}function A(r){return r===window}class w{top;left;width;height;constructor(e=0,t=0,i=0,n=0){if(typeof e=="number"&&typeof t=="number"){const o=e,s=t;this.left=o,this.top=s,this.width=i,this.height=n}else if(e instanceof m&&t instanceof E){const o=e,s=t;this.left=o.x,this.top=o.y,this.width=s.width,this.height=s.height}else{const o=e;if(!w.isValid(o))throw new Error("Invalid parameters passed to constructor");this.left=o.x,this.top=o.y,this.width=o.width,this.height=o.height}}get center(){return new m({x:(this.right-this.left)/2+this.left,y:(this.bottom-this.top)/2+this.top})}get size(){return new E({width:this.width,height:this.height})}get right(){return this.left+this.width}get bottom(){return this.top+this.height}static isValid(e){return!(typeof e.x!="number"||typeof e.y!="number"||typeof e.width!="number"||typeof e.height!="number")}static make(e=0,t=0,i=0,n=0){return new w(e,t,i,n)}static from(e,t={}){try{if(e==null)return null;if(e instanceof w)return e;if(A(e))return w.from(document.documentElement||document.body.parentNode||document.body,t);const i=e instanceof Array?e:[e],n=i.length,o=t.reference||window,s=w.fromViewport(),c=A(o)?s:w.from(t.reference);if(!s||!c)return null;let g=null;for(let l=0;l<n;l++){const d=i[l],a=d.getBoundingClientRect(),f=new w({x:a.left+s.left-(A(o)?0:c.left),y:a.top+s.top-(A(o)?0:c.top),width:t.overflow?d.scrollWidth:d instanceof HTMLElement?d.offsetWidth:a.width,height:t.overflow?d.scrollHeight:d instanceof HTMLElement?d.offsetHeight:a.height});g=g?g.concat(f):f}return g}catch(i){return console.error(i),null}}static fromViewport(){const e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,n=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return new w({x:i,y:n,width:e,height:t})}static fromChildrenOf(e,t={}){return e?A(e)?w.from(Array.from(document.body.children)):w.from(Array.from(e.children),{overflow:t.overflow,reference:t.reference||e}):null}static fromChildrenBefore(e,t,i={}){if(!t)return null;const n=Array.from(t.children);return e<=0?new w:e>=n.length?w.from(n,{reference:i.reference,overflow:!1}):(n.splice(e),w.from(n,{reference:i.reference||t,overflow:!1}))}static fromChildrenAfter(e,t,i={}){if(!t)return null;const n=Array.from(t.children);return e<0?w.from(n,{reference:i.reference,overflow:!1}):e>=n.length-1?new w:(n.splice(0,n.length-e-1),w.from(n,{reference:i.reference||t,overflow:!1}))}static fromChildAt(e,t,i={}){if(!t)return null;const n=t.children[e];return w.from(n,{overflow:i.overflow,reference:i.reference||t})}static fromPointAndSize(e,t){const i=e instanceof m?e:new m(e),n=t instanceof E?t:new E(t);return new w({x:i.x,y:i.y,width:n.width,height:n.height})}static intersecting(...e){try{const t=e.length,i={};let n=null,o=null;for(let s=0;s<t;s++){if(n||(n=w.from(e[s])),s===0&&s+1===t)o=w.fromViewport();else if(s+1<t)o=w.from(e[s+1]);else break;!n||!o||(i.width=Math.max(0,Math.min(n.right,o.right)-Math.max(n.left,o.left)),i.height=Math.max(0,Math.min(n.bottom,o.bottom)-Math.max(n.top,o.top)),i.y=Math.max(n.top,o.top),i.x=Math.max(n.left,o.left),i.width*i.height===0&&(i.width=0,i.height=0,i.y=NaN,i.x=NaN),n=new w(i))}return new w(i)}catch(t){return console.error(t),null}}clone(e={}){return new w({x:typeof e.x=="number"?e.x:this.left,y:typeof e.y=="number"?e.y:this.top,width:typeof e.width=="number"?e.width:this.width,height:typeof e.height=="number"?e.height:this.height})}concat(e){return new w({x:Math.min(this.left,e.left),y:Math.min(this.top,e.top),width:Math.max(this.right,e.right)-Math.min(this.left,e.left),height:Math.max(this.bottom,e.bottom)-Math.min(this.top,e.top)})}invert(){return new w({x:this.left,y:this.top,width:this.height,height:this.width})}equals(e){return!(this.top!==e.top||this.right!==e.right||this.bottom!==e.bottom||this.left!==e.left)}contains(e){return ce(e,this)}toJSON(){return Object.freeze({top:this.top,right:this.right,bottom:this.bottom,left:this.left,width:this.width,height:this.height})}}var u=(r=>(r[r.NONE=0]="NONE",r[r.POSITION=1]="POSITION",r[r.SIZE=2]="SIZE",r[r.LAYOUT=4]="LAYOUT",r[r.STATE=8]="STATE",r[r.DATA=16]="DATA",r[r.LOCALE=32]="LOCALE",r[r.CONFIG=64]="CONFIG",r[r.STYLE=128]="STYLE",r[r.INPUT=256]="INPUT",r[r.ORIENTATION=512]="ORIENTATION",r[r.FRAME=1024]="FRAME",r[r.CUSTOM=2048]="CUSTOM",r[r.ALL=4294967295]="ALL",r))(u||{});(r=>{function e(t){if(t===0)return"NONE";if(t>=4294967295)return"ALL";let i="";const n=8*4;for(let o=0;o<n;o++)if((t>>o&1)!==0)switch(1<<o){case 1:i+="POSITION";break;case 2:i+="SIZE";break;case 4:i+="LAYOUT";break;case 8:i+="STATE";break;case 16:i+="DATA";break;case 32:i+="LOCALE";break;case 64:i+="CONFIG";break;case 128:i+="STYLE";break;case 256:i+="INPUT";break;case 1024:i+="FRAME";break;case 512:i+="ORIENTATION";break;default:i+=String(1<<o)}return i}r.toString=e})(u||(u={}));var h=(r=>(r.ENTER_FRAME="enterframe",r.RESIZE="resize",r.ORIENTATION_CHANGE="orientationchange",r.SCROLL="scroll",r.MOUSE_WHEEL="wheel",r.MOUSE_MOVE="mousemove",r.KEY_UP="keyup",r.KEY_DOWN="keydown",r.KEY_PRESS="keypress",r))(h||{});function de(r){if(isNaN(Number(r)))return!1;for(const e in u)if(Number(u[e])===Number(r))return!0;return!1}function fe(r){return Object.values(h).includes(r)}function I(r){return r===window}function B(r){const e=window;let t=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||null;return t||(t=i=>{window.clearTimeout(i)}),t(r)}function L(r,e=0,t=!1){let i;return(...n)=>{const o=()=>{i=void 0,t||r(...n)},s=t&&!i;window.clearTimeout(i),i=window.setTimeout(o,e),s&&r(...n)}}function F(r){const e=window;let t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||null;return t||(t=i=>e.setTimeout(i,10)),t(r)}let N=[];function ue(r=window,e){K(0,r,e)}function we(r=window,e){const t=w.from(r,{overflow:!0}),i=I(r)?w.fromViewport():w.from(r);if(!t||!i)return;const n=t.height-i.height;K(n,r,e)}function ge(r=window,e){Z(0,r,e)}function me(r=window,e){const t=w.from(r,{overflow:!0}),i=I(r)?w.fromViewport():w.from(r);if(!t||!i)return;const n=t.width-i.width;Z(n,r,e)}function Z(r,e=window,t){const i=new m([r,I(e)?e.scrollY:e.scrollTop]);q(i,e,t)}function K(r,e=window,t){const i=new m([I(e)?e.scrollX:e.scrollLeft,r]);q(i,e,t)}function q(r,e=window,{easing:t=!0,...i}={}){t?pe(r,e,{...i}):ye(r,e,{...i})}function Q(r){const e=N.length;let t=-1,i;for(let n=0;n<e;n++)if(i=N[n],i.target===r){t=n;break}i&&(i.options.onCancel?.(),B(i.animationFrameRequestId)),t>-1&&N.splice(t,1)}function ye(r,e=window,{duration:t=400,isOverwriteable:i=!0,onProgress:n,onCancel:o,onComplete:s}={}){if(M(e)&&!i)return;Q(e);const c=(I(e)?e.scrollX:e.scrollLeft)-r.x,g=(I(e)?e.scrollY:e.scrollTop)-r.y,l=performance.now();I(e)||(e.style.scrollBehavior="auto",e.style.scrollSnapStop="unset",e.style.scrollSnapType="none");function d(a){if(!M(e))return;const f=I(e)?new m([e.scrollX,e.scrollY]):new m([e.scrollLeft,e.scrollTop]),p=a-l;if(e.scrollTo(r.x+c*(1-p/t),r.y+g*(1-p/t)),p>t||f.x===r.x&&f.y===r.y){e.scrollTo(r.x,r.y),s?.(),I(e)||(e.style.scrollBehavior="",e.style.scrollSnapStop="",e.style.scrollSnapType="");return}n?.(p/t),V({target:e,options:{duration:t,easing:!1,onProgress:n,onCancel:o,onComplete:s},animationFrameRequestId:F(d)})}V({target:e,options:{duration:t,easing:!1,onProgress:n,onCancel:o,onComplete:s},animationFrameRequestId:F(d)})}function pe(r,e=window,{duration:t=400,isOverwriteable:i=!0,onProgress:n,onCancel:o,onComplete:s}={}){if(M(e)&&!i)return;Q(e);const c=new m([I(e)?e.scrollX:e.scrollLeft,I(e)?e.scrollY:e.scrollTop]),g=performance.now();let l=0,d=g;I(e)||(e.style.scrollBehavior="auto",e.style.scrollSnapStop="unset",e.style.scrollSnapType="none");function a(f){if(!M(e))return;const p=I(e)?new m([e.scrollX,e.scrollY]):new m([e.scrollLeft,e.scrollTop]),v=f-g;l+=Math.PI/(t/(f-d));const b=c.x-r.x,C=c.y-r.y,O=b*.5,S=C*.5;if(e.scrollTo(Math.round(c.x-(O-O*Math.cos(l))),Math.round(c.y-(S-S*Math.cos(l)))),l>=Math.PI||v>t||p.x===r.x&&p.y===r.y){e.scrollTo(r.x,r.y),s?.(),I(e)||(e.style.scrollBehavior="",e.style.scrollSnapStop="",e.style.scrollSnapType="");return}d=f,n?.(v/t),V({target:e,options:{duration:t,easing:!0,onProgress:n,onCancel:o,onComplete:s},animationFrameRequestId:F(a)})}V({target:e,options:{duration:t,easing:!0,onProgress:n,onCancel:o,onComplete:s},animationFrameRequestId:F(a)})}function M(r){const e=N.length;for(let t=0;t<e;t++){const i=N[t];if(i.target===r)return i}}function V({target:r,options:e,animationFrameRequestId:t}){const i=M(r);i?(B(i.animationFrameRequestId),i.options=e,i.animationFrameRequestId=t):N.push({target:r,options:e,animationFrameRequestId:t})}class z{static DEFAULT_REFRESH_RATE=0;static DEFAULT_DIRTY_INFO={[u.POSITION]:{minPos:void 0,maxPos:void 0,pos:void 0,step:void 0},[u.SIZE]:{minSize:void 0,maxSize:void 0},[u.LAYOUT]:{},[u.STATE]:{},[u.DATA]:{},[u.LOCALE]:{},[u.CONFIG]:{},[u.STYLE]:{},[u.INPUT]:{mouse:void 0,mouseWheel:void 0,keyUp:[],keyDown:[],keyPress:[]},[u.ORIENTATION]:{x:NaN,y:NaN,z:NaN},[u.FRAME]:{}};dirtyInfo={};eventTargetDict={};eventHandlerDict={};updateHandler;pendingAnimationFrame;dirtyTable=0;responsivenessTable;eventPropDict={};constructor(e,t){this.updateHandler=e,this.responsivenessTable=t}get viewport(){return w.fromViewport()}init(){const e=this.responsivenessTable;if(e)for(const t in e){if(!fe(t))continue;const i=e[t];typeof i=="number"?this.initResponsiveness({refreshRate:i,eventTypes:[t]}):typeof i=="object"?this.initResponsiveness({target:i.target,refreshRate:i.refreshRate,eventTypes:[t]}):this.initResponsiveness({eventTypes:[t]})}this.setDirty(u.ALL,!0)}deinit(){if(this.pendingAnimationFrame!==void 0&&B(this.pendingAnimationFrame),this.eventHandlerDict[h.RESIZE]&&(window.removeEventListener("resize",this.eventHandlerDict[h.RESIZE]),window.removeEventListener("orientationchange",this.eventHandlerDict[h.RESIZE])),this.eventHandlerDict[h.SCROLL]&&(this.getDirtyTarget(this.eventTargetDict[h.SCROLL])??window).removeEventListener("scroll",this.eventHandlerDict[h.SCROLL]),this.eventHandlerDict[h.MOUSE_WHEEL]&&(this.getDirtyTarget(this.eventTargetDict[h.MOUSE_WHEEL])??window).removeEventListener("wheel",this.eventHandlerDict[h.MOUSE_WHEEL]),this.eventHandlerDict[h.MOUSE_MOVE]&&(this.getDirtyTarget(this.eventTargetDict[h.MOUSE_MOVE])??window).removeEventListener("mousemove",this.eventHandlerDict[h.MOUSE_MOVE]),this.eventHandlerDict[h.ORIENTATION_CHANGE]){const e=window;e.DeviceOrientationEvent?window.removeEventListener("deviceorientation",this.eventHandlerDict[h.ORIENTATION_CHANGE]):e.DeviceMotionEvent&&window.removeEventListener("devicemotion",this.eventHandlerDict[h.ORIENTATION_CHANGE])}this.eventHandlerDict[h.KEY_DOWN]&&window.removeEventListener("keydown",this.eventHandlerDict[h.KEY_DOWN]),this.eventHandlerDict[h.KEY_PRESS]&&window.removeEventListener("keypress",this.eventHandlerDict[h.KEY_PRESS]),this.eventHandlerDict[h.KEY_UP]&&window.removeEventListener("keyup",this.eventHandlerDict[h.KEY_UP]),this.eventHandlerDict[h.ENTER_FRAME]!==void 0&&window.clearInterval(this.eventHandlerDict[h.ENTER_FRAME]),this.pendingAnimationFrame=void 0,this.eventTargetDict={},this.eventHandlerDict={},this.eventPropDict={}}isDirty(e){switch(e){case u.NONE:case u.ALL:return this.dirtyTable===e;default:return(e&this.dirtyTable)!==0}}setDirty(e,t=!1){if(!(this.isDirty(e)&&!t)){switch(e){case u.NONE:this.dirtyTable=u.NONE,this.dirtyInfo={};return;case u.ALL:this.dirtyTable=u.ALL,this.dirtyInfo={...this.constructor.DEFAULT_DIRTY_INFO,...this.dirtyInfo},this.updateSizeInfo(),this.updatePositionInfo(this.eventTargetDict[h.SCROLL]);break;default:this.dirtyInfo[e]||(this.dirtyInfo[e]=this.constructor.DEFAULT_DIRTY_INFO[e]),this.dirtyTable|=e}t?this.update():this.pendingAnimationFrame?this.pendingAnimationFrame&&window.setTimeout(()=>this.setDirty(e,t),0):this.pendingAnimationFrame=F(this.update.bind(this))}}getDirtyTarget(e){return typeof e=="function"?e():e}updatePositionInfo(e){const t=this.getDirtyTarget(e)||window,i=I(t)?w.fromViewport():(w.from(t)||new w).clone({x:t.scrollLeft,y:t.scrollTop}),n=i.clone({x:0,y:0}),o=w.from(t,{overflow:!0});if(!o)return;const s=n.clone({x:o.width-i.width,y:o.height-i.height}),c=new m([i.left/s.left,i.top/s.top]);this.dirtyInfo[u.POSITION]={...this.dirtyInfo[u.POSITION]||{},minPos:new m([n.left,n.top]),maxPos:new m([s.left,s.top]),pos:new m([i.left,i.top]),step:c}}updateSizeInfo(){const e=this.getDirtyTarget(this.eventTargetDict[h.RESIZE]);if(!e)return;let t,i;e===window?(t=w.fromViewport(),i=w.from(window,{overflow:!0})):(t=w.from(e),i=w.from(e,{overflow:!0}),this.eventPropDict[h.RESIZE]=t),t&&i&&(this.dirtyInfo[u.SIZE]={...this.dirtyInfo[u.SIZE]||{},minSize:t.size,maxSize:i.size})}initResponsiveness({target:e=window,refreshRate:t=this.constructor.DEFAULT_REFRESH_RATE,eventTypes:i=[]}={}){const n=i.length===0;if(n||i.indexOf(h.RESIZE)>-1||i.indexOf(h.ORIENTATION_CHANGE)>-1){if(this.eventHandlerDict[h.RESIZE]){const o=this.getDirtyTarget(this.eventTargetDict[h.RESIZE]);!o||o===window?(window.removeEventListener("resize",this.eventHandlerDict[h.RESIZE]),window.removeEventListener("orientationchange",this.eventHandlerDict[h.RESIZE])):window.clearInterval(this.eventHandlerDict[h.RESIZE])}this.eventTargetDict[h.RESIZE]=e,e===window?(this.eventHandlerDict[h.RESIZE]=t===0?this.onWindowResize.bind(this):L(this.onWindowResize.bind(this),t),window.addEventListener("resize",this.eventHandlerDict[h.RESIZE]),window.addEventListener("orientationchange",this.eventHandlerDict[h.RESIZE])):window.setInterval(this.onResize.bind(this),Math.max(t,1/60))}if((n||i.indexOf(h.SCROLL)>-1)&&(this.eventHandlerDict[h.SCROLL]&&(this.getDirtyTarget(this.eventTargetDict[h.SCROLL])||window).removeEventListener("scroll",this.eventHandlerDict[h.SCROLL]),this.eventHandlerDict[h.SCROLL]=t===0?this.onScroll.bind(this):L(this.onScroll.bind(this),t),this.eventTargetDict[h.SCROLL]=e,this.getDirtyTarget(e)?.addEventListener("scroll",this.eventHandlerDict[h.SCROLL])),(n||i.indexOf(h.MOUSE_WHEEL)>-1)&&(this.eventHandlerDict[h.MOUSE_WHEEL]&&(this.getDirtyTarget(this.eventTargetDict[h.MOUSE_WHEEL])||window).removeEventListener("wheel",this.eventHandlerDict[h.MOUSE_WHEEL]),this.eventHandlerDict[h.MOUSE_WHEEL]=t===0?this.onWindowMouseWheel.bind(this):L(this.onWindowMouseWheel.bind(this),t),this.eventTargetDict[h.MOUSE_WHEEL]=e,this.getDirtyTarget(e)?.addEventListener("wheel",this.eventHandlerDict[h.MOUSE_WHEEL])),(n||i.indexOf(h.MOUSE_MOVE)>-1)&&(this.eventHandlerDict[h.MOUSE_MOVE]&&(this.getDirtyTarget(this.eventTargetDict[h.MOUSE_MOVE])||window).removeEventListener("mousemove",this.eventHandlerDict[h.MOUSE_MOVE]),this.eventHandlerDict[h.MOUSE_MOVE]=t===0?this.onWindowMouseMove.bind(this):L(this.onWindowMouseMove.bind(this),t),this.eventTargetDict[h.MOUSE_MOVE]=e,this.getDirtyTarget(e)?.addEventListener("mousemove",this.eventHandlerDict[h.MOUSE_MOVE])),n||i.indexOf(h.ORIENTATION_CHANGE)>-1){const o=window;this.eventHandlerDict[h.ORIENTATION_CHANGE]&&(o.DeviceOrientationEvent?window.removeEventListener("deviceorientation",this.eventHandlerDict[h.ORIENTATION_CHANGE]):o.DeviceMotionEvent&&window.removeEventListener("devicemotion",this.eventHandlerDict[h.ORIENTATION_CHANGE])),this.eventHandlerDict[h.ORIENTATION_CHANGE]=t===0?this.onWindowOrientationChange.bind(this):L(this.onWindowOrientationChange.bind(this),t),o.DeviceOrientationEvent?window.addEventListener("deviceorientation",this.eventHandlerDict[h.ORIENTATION_CHANGE]):o.DeviceMotionEvent&&window.addEventListener("devicemotion",this.eventHandlerDict[h.ORIENTATION_CHANGE])}(n||i.indexOf(h.KEY_DOWN)>-1)&&(this.eventHandlerDict[h.KEY_DOWN]&&window.removeEventListener("keydown",this.eventHandlerDict[h.KEY_DOWN]),this.eventHandlerDict[h.KEY_DOWN]=this.onWindowKeyDown.bind(this),window.addEventListener("keydown",this.eventHandlerDict[h.KEY_DOWN])),(n||i.indexOf(h.KEY_PRESS)>-1)&&(this.eventHandlerDict[h.KEY_PRESS]&&window.removeEventListener("keypress",this.eventHandlerDict[h.KEY_PRESS]),this.eventHandlerDict[h.KEY_PRESS]=this.onWindowKeyPress.bind(this),window.addEventListener("keypress",this.eventHandlerDict[h.KEY_PRESS])),(n||i.indexOf(h.KEY_UP)>-1)&&(this.eventHandlerDict[h.KEY_UP]&&window.removeEventListener("keyup",this.eventHandlerDict[h.KEY_UP]),this.eventHandlerDict[h.KEY_UP]=this.onWindowKeyUp.bind(this),window.addEventListener("keyup",this.eventHandlerDict[h.KEY_UP])),(n||i.indexOf(h.ENTER_FRAME)>-1)&&(this.eventHandlerDict[h.ENTER_FRAME]!==void 0&&window.clearInterval(this.eventHandlerDict[h.ENTER_FRAME]),this.eventHandlerDict[h.ENTER_FRAME]=window.setInterval(this.onEnterFrame.bind(this),Math.max(t,1/60)))}update(){if(this.pendingAnimationFrame!==void 0&&B(this.pendingAnimationFrame),this.updateHandler){const e={};for(const t in this.dirtyInfo)de(t)&&this.isDirty(t)&&(e[t]=this.dirtyInfo[t]);this.updateHandler(e,this)}this.setDirty(u.NONE),this.pendingAnimationFrame=void 0}onWindowResize(e){this.updateSizeInfo(),this.updatePositionInfo(this.eventTargetDict[h.SCROLL]),this.setDirty(u.SIZE|u.POSITION)}onResize(){const e=w.from(this.getDirtyTarget(this.eventTargetDict[h.RESIZE])),t=e?e.size:new E;this.eventPropDict[h.RESIZE]&&t.equals(this.eventPropDict[h.RESIZE])||(this.updateSizeInfo(),this.updatePositionInfo(this.eventTargetDict[h.SCROLL]),this.setDirty(u.SIZE|u.POSITION))}onScroll(e){this.updatePositionInfo(e.currentTarget),this.setDirty(u.POSITION)}onWindowMouseMove(e){this.dirtyInfo[u.INPUT]={...this.dirtyInfo[u.INPUT]||{},mouse:new m([e.clientX,e.clientY])},this.setDirty(u.INPUT)}onWindowMouseWheel(e){this.dirtyInfo[u.INPUT]={...this.dirtyInfo[u.INPUT]||{},mouseWheel:new m([e.deltaX,e.deltaY])},this.setDirty(u.INPUT)}onWindowOrientationChange(e){const t=window;let i,n,o;e instanceof t.DeviceOrientationEvent?(i=e.beta,n=e.gamma,o=e.alpha):e instanceof t.DeviceMotionEvent?(i=e.acceleration.x*2,n=e.acceleration.y*2,o=e.acceleration.z*2):(i=e.orientation.x*50,n=e.orientation.y*50,o=e.orientation.z*50),this.dirtyInfo[u.ORIENTATION]={...this.dirtyInfo[u.ORIENTATION]||{},x:i,y:n,z:o},this.setDirty(u.ORIENTATION)}onWindowKeyUp(e){const t=this.dirtyInfo[u.INPUT]||{};this.dirtyInfo[u.INPUT]={...t,keyUp:[...t.keyUp||[],e.keyCode]},this.setDirty(u.INPUT)}onWindowKeyDown(e){const t=this.dirtyInfo[u.INPUT]||{};this.dirtyInfo[u.INPUT]={...t,keyDown:[...t.keyDown||[],e.keyCode]},this.setDirty(u.INPUT)}onWindowKeyPress(e){const t=this.dirtyInfo[u.INPUT]||{};this.dirtyInfo[u.INPUT]={...t,keyPress:[...t.keyPress||[],e.keyCode]},this.setDirty(u.INPUT)}onEnterFrame(){this.setDirty(u.FRAME)}}class ve extends z{static DEFAULT_DIRTY_INFO={...z.DEFAULT_DIRTY_INFO,[u.SIZE]:{...z.DEFAULT_DIRTY_INFO[u.SIZE],targetMinSize:void 0,targetMaxSize:void 0,targetAggregatedMaxSize:void 0},[u.POSITION]:{...z.DEFAULT_DIRTY_INFO[u.POSITION],targetPos:void 0,targetMinPos:void 0,targetMaxPos:void 0}};constructor(e,t={[h.SCROLL]:!0,[h.RESIZE]:!0}){super(e,t)}get minPosition(){return new m([0,0])}get maxPosition(){const e=this.getDirtyTarget(this.eventTargetDict[h.SCROLL])||window,t=I(e)?this.viewport:w.from(e),i=w.from(e,{overflow:!0});if(!t||!i)return new m([0,0]);const n=t.clone({x:i.width-t.width,y:i.height-t.height});return new m([n.left,n.top])}scrollToTop(e){const t=this.getDirtyTarget(this.eventTargetDict[h.SCROLL]);t&&ue(t,e)}scrollToBottom(e){const t=this.getDirtyTarget(this.eventTargetDict[h.SCROLL]);t&&we(t,e)}scrollToLeft(e){const t=this.getDirtyTarget(this.eventTargetDict[h.SCROLL]);t&&ge(t,e)}scrollToRight(e){const t=this.getDirtyTarget(this.eventTargetDict[h.SCROLL]);t&&me(t,e)}scrollTo(e,t){const i=this.getDirtyTarget(this.eventTargetDict[h.SCROLL]);i&&q(e,i,t)}hscrollTo(e,t){const i=this.getDirtyTarget(this.eventTargetDict[h.SCROLL]);i&&Z(e,i,t)}vscrollTo(e,t){const i=this.getDirtyTarget(this.eventTargetDict[h.SCROLL]);i&&K(e,i,t)}}class ee extends ve{shouldAutoUpdateScrollTarget=!0;scrollTargetGetter;scrollContainerGetter;scrollBreakGetter;constructor(e,t={[h.SCROLL]:!0,[h.RESIZE]:!0}){super(e,t)}get scrollTargetMinPosition(){return this.scrollTargetGetter&&this.scrollTargetGetter()?new m([0,0]):null}get scrollTargetMaxPosition(){const e=this.scrollTargetGetter?this.scrollTargetGetter():void 0;if(!e)return null;const t=w.from(e,{reference:e,overflow:!1});if(!t)return null;const i=w.from(e,{reference:e,overflow:!0});if(!i)return null;const n=t.clone({x:i.width-t.width,y:i.height-t.height});return new m({x:n.left,y:n.top})}set scrollTarget(e){this.scrollTargetGetter=e}set scrollBreaks(e){this.scrollBreakGetter=e}set scrollContainer(e){this.scrollContainerGetter=e}deinit(){super.deinit(),this.scrollTargetGetter=void 0,this.scrollContainerGetter=void 0,this.scrollBreakGetter=void 0}getRelativeRectOfChildAt(e){const t=this.scrollTargetGetter?this.scrollTargetGetter():void 0;return w.fromChildAt(e,t)}getRelativeStepOfChildAt(e,t){const i=t instanceof m?t:new m(t),n=this.scrollTargetGetter?this.scrollTargetGetter():void 0,o=w.fromChildAt(e,n);return o?this.getRelativeStepOfRect(o,i):null}getRelativeStepOfRect(e,t){const i=t instanceof m?t:new m(t),n=this.scrollTargetGetter?this.scrollTargetGetter():void 0,o=w.from(n),s=this.stepToNaturalPosition(i);if(!n||!o||!s)return null;let c=NaN,g=NaN;return s.x+o.width<=e.left?c=0:s.x+o.width>=e.right?c=1:c=(s.x+o.width-e.left)/(e.right-e.left),s.y+o.height<=e.top?g=0:s.y+o.height>=e.bottom?g=1:g=(s.y+o.height-e.top)/(e.bottom-e.top),new m({x:c,y:g})}getRelativeStepOfHorizontalScrollBreakAt(e,t){const i=t instanceof m?t:new m(t),{x:n}=this.getScrollBreaks();if(!n)return NaN;if(e<0)return NaN;if(e>=n.length)return NaN;const o=this.scrollTargetMaxPosition;if(!o)return NaN;const s=this.stepToVirtualPosition(i);if(!s)return NaN;const c=n[e],g=n.reduce((a,f)=>f.step<c.step?a+f.length:a,0),l=c.step*o.x+g,d=l+c.length;return s.x<=l?0:s.x>=d?1:(s.x-l)/(d-l)}getRelativeStepOfVerticalScrollBreakAt(e,t){const i=t instanceof m?t:new m(t),{y:n}=this.getScrollBreaks();if(!n)return NaN;if(e<0)return NaN;if(e>=n.length)return NaN;const o=this.scrollTargetMaxPosition;if(!o)return NaN;const s=this.stepToVirtualPosition(i);if(!s)return NaN;const c=n[e],g=n.reduce((a,f)=>f.step<c.step?a+f.length:a,0),l=c.step*o.y+g,d=l+c.length;return s.y<=l?0:s.y>=d?1:(s.y-l)/(d-l)}updateSizeInfo(){super.updateSizeInfo();const e=this.scrollTargetGetter?this.scrollTargetGetter():void 0;if(!e)return;const t=w.from(e),i=w.from(e,{overflow:!0}),n=new E([this.aggregateHorizontalScrollBreaks(),this.aggregateVerticalScrollBreaks()]);if(!t||!i)return;const o=i.size.add(n);this.dirtyInfo[u.SIZE]={...this.dirtyInfo[u.SIZE]||{},targetMinSize:t.size,targetMaxSize:i.size,targetAggregatedMaxSize:o},this.updateScrollContainerSize(o)}updatePositionInfo(e){super.updatePositionInfo(e);const t=this.dirtyInfo[u.POSITION]||{},i=this.stepToNaturalPosition(t.step);i&&(this.dirtyInfo[u.POSITION]={...t,minTargetPos:this.scrollTargetMinPosition,maxTargetPos:this.scrollTargetMaxPosition,targetPos:i},this.updateScrollTargetPosition(i))}updateScrollContainerSize(e){const t=this.scrollContainerGetter?this.scrollContainerGetter():void 0;t&&(t.style.width=`${e.width}px`,t.style.height=`${e.height}px`)}updateScrollTargetPosition(e){if(!this.shouldAutoUpdateScrollTarget)return;const t=this.scrollTargetGetter?this.scrollTargetGetter():void 0;t&&(t.style.transform=`translate3d(-${isNaN(e.x)?0:e.x}px, -${isNaN(e.y)?0:e.y}px, 0)`)}stepToVirtualPosition(e){const t=this.scrollTargetGetter?this.scrollTargetGetter():void 0;if(!e||!t)return null;const i=w.from(t,{reference:t,overflow:!1})?.clone({x:0,y:0}),n=w.from(t,{reference:t,overflow:!0}),o=new E([this.aggregateHorizontalScrollBreaks(),this.aggregateVerticalScrollBreaks()]);if(!i||!n)return null;const s=w.fromPointAndSize(new m([0,0]),n.size.add(o));return new m({x:e.x*(s.width-i.width),y:e.y*(s.height-i.height)})}stepToNaturalPosition(e){const t=this.stepToVirtualPosition(e);return t?this.virtualPositionToNaturalPosition(t):null}virtualPositionToStep(e){const t=this.scrollTargetGetter?this.scrollTargetGetter():void 0;if(!e||!t)return null;const i=w.from(t,{reference:t,overflow:!1})?.clone({x:0,y:0}),n=w.from(t,{reference:t,overflow:!0}),o=new E([this.aggregateHorizontalScrollBreaks(),this.aggregateVerticalScrollBreaks()]);if(!i||!n)return null;const s=w.fromPointAndSize(new m([0,0]),n.size.add(o));return new m({x:e.x/(s.width-i.width),y:e.y/(s.height-i.height)})}virtualPositionToNaturalPosition(e){if(!e)return null;const t=this.scrollTargetMaxPosition;if(!t)return null;const i=this.getScrollBreaks();let n=e.x,o=e.y;if(i.x){const s=[...i.x].sort((g,l)=>g.step-l.step);let c=0;for(const{step:g,length:l}of s){const d=g*t.x+c,a=d+l;if(e.x<=a){n=Math.min(e.x,d)-c;break}c+=l,n=e.x-c}}if(i.y){const s=[...i.y].sort((g,l)=>g.step-l.step);let c=0;for(const g of s){const{step:l,length:d}=g,a=l*t.y+c,f=a+d;if(e.y<=f){o=Math.min(e.y,a)-c;break}c+=d,o=e.y-c}}return new m({x:n,y:o})}aggregateHorizontalScrollBreaks(){return(this.getScrollBreaks().x||[]).reduce((e,t)=>e+t.length,0)}aggregateVerticalScrollBreaks(){return(this.getScrollBreaks().y||[]).reduce((e,t)=>e+t.length,0)}aggregateVerticalScrollBreaksBeforeBreakStep(e){const{y:t}=this.getScrollBreaks();if(!t)return 0;const i=[...t].sort((c,g)=>c.step-g.step),n=this.scrollTargetMaxPosition;if(!n)return 0;const o=i.length;let s=0;for(let c=0;c<o;c++){const g=i[c],l=g.step*n.y+s;if(e*n.y<=l)break;s+=g.length}return s}findNearestHorizontalScrollBreakByVirtualPosition(e){return{step:0,length:0}}findNearestVerticalScrollBreakByVirtualPosition(e){const t={step:0,length:0},{y:i}=this.getScrollBreaks();if(!i)return t;const n=[...i].sort((l,d)=>l.step-d.step),o=this.scrollTargetMaxPosition;if(!o)return t;const s=n.length;let c=0,g=-1;for(let l=0;l<s;l++){const{step:d,length:a}=n[l],f=d*o.y+c;if(e<f)break;c+=a,g++}return g<0?t:n[g]}getScrollBreaks(){if(!this.scrollBreakGetter)return{};const e=this.scrollTargetMinPosition,t=this.scrollTargetMaxPosition;return!e||!t?{}:this.scrollBreakGetter({minPos:e,maxPos:t})}}class Ee extends ee{stepToVirtualPosition(e){return super.stepToVirtualPosition(e.invert())}updateScrollContainerSize(e){super.updateScrollContainerSize(e.invert())}}class T{x;y;constructor(e=0,t=0){if(typeof e=="number"){const i=e;this.x=i,this.y=t}else{if(!T.isValid(e))throw new Error("Invalid parameters passed to constructor");e instanceof Array?(this.x=e[0],this.y=e[1]):(this.x=e.x,this.y=e.y)}}static isValid(e){return e instanceof Array?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):typeof e=="object"?!(typeof e.x!="number"||typeof e.y!="number"):!1}static make(e=0,t=0){return typeof e=="number"?new T(e,t):new T(e)}clone(e={}){return new T({x:typeof e.x=="number"?e.x:this.x,y:typeof e.y=="number"?e.y:this.y})}add(e){return new T({x:this.x+e.x,y:this.y+e.y})}subtract(e){return new T({x:this.x-e.x,y:this.y-e.y})}multiply(e){return new T({x:this.x*e.x,y:this.y*e.y})}divideBy(e){return new T({x:this.x/e.x,y:this.y/e.y})}invert(){return new T({x:this.y,y:this.x})}equals(e){return!(this.x!==e.x||this.y!==e.y)}toJSON(){return Object.freeze({x:this.x,y:this.y})}toArray(){return[this.x,this.y]}}function Te(r,e){try{const t=T.isValid(r)&&new T(r),i=T.isValid(e)&&new T(e);if(t&&!i){const n=e instanceof Array?e:[e],o=n.length;for(let s=0;s<o;s++){const c=y.from(n[s]);if(!c)continue;const g=t.x>=c.left&&t.x<=c.right,l=t.y>=c.top&&t.y<=c.bottom;if(g&&l)return!0}return!1}else if(!t&&i){const n=r instanceof Array?r:[r],o=n.length;for(let s=0;s<o;s++){const c=y.from(n[s]);if(!c)continue;const g=i.x>=c.left&&i.x<=c.right,l=i.y>=c.top&&i.y<=c.bottom;if(g&&l)return!0}return!1}else{if(t&&i)return t.equals(i);{const n=[...r instanceof Array?r:[r],...e instanceof Array?e:[e]],o=y.intersecting.apply(null,n);return o?o.width*o.height!==0:!1}}}catch(t){return console.error(t),!1}}class x{width;height;constructor(e=0,t=0){if(typeof e=="number"){const i=e;this.width=i,this.height=t}else{if(!x.isValid(e))throw new Error("Invalid parameters passed to constructor");e instanceof Array?(this.width=e[0],this.height=e[1]):(this.width=e.width,this.height=e.height)}}static isValid(e){return e instanceof Array?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):typeof e=="object"?!(typeof e.width!="number"||typeof e.height!="number"):!1}static make(e=0,t=0){return typeof e=="number"?new x(e,t):new x(e)}clone(e={}){return new x({width:typeof e.width=="number"?e.width:this.width,height:typeof e.height=="number"?e.height:this.height})}add(e){return new x({width:this.width+e.width,height:this.height+e.height})}subtract(e){return new x({width:this.width-e.width,height:this.height-e.height})}multiply(e){return new x({width:this.width*e.width,height:this.height*e.height})}divideBy(e){return new x({width:this.width/e.width,height:this.height/e.height})}invert(){return new x({width:this.height,height:this.width})}equals(e){return!(this.width!==e.width||this.height!==e.height)}toJSON(){return Object.freeze({width:this.width,height:this.height})}toArray(){return[this.width,this.height]}}function R(r){return r===window}class y{top;left;width;height;constructor(e=0,t=0,i=0,n=0){if(typeof e=="number"&&typeof t=="number"){const o=e,s=t;this.left=o,this.top=s,this.width=i,this.height=n}else if(e instanceof T&&t instanceof x){const o=e,s=t;this.left=o.x,this.top=o.y,this.width=s.width,this.height=s.height}else{const o=e;if(!y.isValid(o))throw new Error("Invalid parameters passed to constructor");this.left=o.x,this.top=o.y,this.width=o.width,this.height=o.height}}get center(){return new T({x:(this.right-this.left)/2+this.left,y:(this.bottom-this.top)/2+this.top})}get size(){return new x({width:this.width,height:this.height})}get right(){return this.left+this.width}get bottom(){return this.top+this.height}static isValid(e){return!(typeof e.x!="number"||typeof e.y!="number"||typeof e.width!="number"||typeof e.height!="number")}static make(e=0,t=0,i=0,n=0){return new y(e,t,i,n)}static from(e,t={}){try{if(e==null)return null;if(e instanceof y)return e;if(R(e))return y.from(document.documentElement||document.body.parentNode||document.body,t);const i=e instanceof Array?e:[e],n=i.length,o=t.reference||window,s=y.fromViewport(),c=R(o)?s:y.from(t.reference);if(!s||!c)return null;let g=null;for(let l=0;l<n;l++){const d=i[l],a=d.getBoundingClientRect(),f=new y({x:a.left+s.left-(R(o)?0:c.left),y:a.top+s.top-(R(o)?0:c.top),width:t.overflow?d.scrollWidth:d instanceof HTMLElement?d.offsetWidth:a.width,height:t.overflow?d.scrollHeight:d instanceof HTMLElement?d.offsetHeight:a.height});g=g?g.concat(f):f}return g}catch(i){return console.error(i),null}}static fromViewport(){const e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,n=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return new y({x:i,y:n,width:e,height:t})}static fromChildrenOf(e,t={}){return e?R(e)?y.from(Array.from(document.body.children)):y.from(Array.from(e.children),{overflow:t.overflow,reference:t.reference||e}):null}static fromChildrenBefore(e,t,i={}){if(!t)return null;const n=Array.from(t.children);return e<=0?new y:e>=n.length?y.from(n,{reference:i.reference,overflow:!1}):(n.splice(e),y.from(n,{reference:i.reference||t,overflow:!1}))}static fromChildrenAfter(e,t,i={}){if(!t)return null;const n=Array.from(t.children);return e<0?y.from(n,{reference:i.reference,overflow:!1}):e>=n.length-1?new y:(n.splice(0,n.length-e-1),y.from(n,{reference:i.reference||t,overflow:!1}))}static fromChildAt(e,t,i={}){if(!t)return null;const n=t.children[e];return y.from(n,{overflow:i.overflow,reference:i.reference||t})}static fromPointAndSize(e,t){const i=e instanceof T?e:new T(e),n=t instanceof x?t:new x(t);return new y({x:i.x,y:i.y,width:n.width,height:n.height})}static intersecting(...e){try{const t=e.length,i={};let n=null,o=null;for(let s=0;s<t;s++){if(n||(n=y.from(e[s])),s===0&&s+1===t)o=y.fromViewport();else if(s+1<t)o=y.from(e[s+1]);else break;!n||!o||(i.width=Math.max(0,Math.min(n.right,o.right)-Math.max(n.left,o.left)),i.height=Math.max(0,Math.min(n.bottom,o.bottom)-Math.max(n.top,o.top)),i.y=Math.max(n.top,o.top),i.x=Math.max(n.left,o.left),i.width*i.height===0&&(i.width=0,i.height=0,i.y=NaN,i.x=NaN),n=new y(i))}return new y(i)}catch(t){return console.error(t),null}}clone(e={}){return new y({x:typeof e.x=="number"?e.x:this.left,y:typeof e.y=="number"?e.y:this.top,width:typeof e.width=="number"?e.width:this.width,height:typeof e.height=="number"?e.height:this.height})}concat(e){return new y({x:Math.min(this.left,e.left),y:Math.min(this.top,e.top),width:Math.max(this.right,e.right)-Math.min(this.left,e.left),height:Math.max(this.bottom,e.bottom)-Math.min(this.top,e.top)})}invert(){return new y({x:this.left,y:this.top,width:this.height,height:this.width})}equals(e){return!(this.top!==e.top||this.right!==e.right||this.bottom!==e.bottom||this.left!==e.left)}contains(e){return Te(e,this)}toJSON(){return Object.freeze({top:this.top,right:this.right,bottom:this.bottom,left:this.left,width:this.width,height:this.height})}}window.localStorage.debug="position,size,input";const Ce=document.getElementById("version");Ce.innerHTML="v8.1.0";const D=document.getElementById("main"),j=new ee(({[u.POSITION]:r,[u.SIZE]:e,[u.INPUT]:t})=>{});j.scrollTarget=()=>document.getElementById("main");j.scrollContainer=()=>document.getElementById("scroller");j.scrollBreaks=r=>{const{height:e}=y.from(D);return{y:[{step:(y.fromChildAt(1,D).bottom-e)/r.maxPos.y,length:1e3},{step:(y.fromChildAt(6,D).bottom-e)/r.maxPos.y,length:2e3}]}};const P=new Ee(({[u.POSITION]:r,[u.SIZE]:e,[u.INPUT]:t})=>{e&&le("size")(e)});P.scrollTarget=()=>document.getElementById("main");P.scrollContainer=()=>document.getElementById("scroller");P.scrollBreaks=r=>{const{width:e}=y.from(D);return{x:[{step:(y.fromChildAt(1,D).right-e)/r.maxPos.x,length:1e3},{step:(y.fromChildAt(6,D).right-e)/r.maxPos.x,length:2e3}]}};P.init();window.addEventListener("click",()=>{P.scrollToBottom()});
